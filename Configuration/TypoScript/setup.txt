plugin.tx_mindshapeseo {
  view {
    templateRootPaths.0 = {$plugin.tx_mindshapeseo.view.templateRootPath}
    partialRootPaths.0 = {$plugin.tx_mindshapeseo.view.partialRootPath}
    layoutRootPaths.0 = {$plugin.tx_mindshapeseo.view.layoutRootPath}
  }

  settings {
    metadata.disable = {$plugin.tx_mindshapeseo.settings.metadata.disable}
    pageTree.usePagination = {$plugin.tx_mindshapeseo.settings.pageTree.usePagination}

    sitemap {
      newsDetailPage = {$plugin.tx_mindshapeseo.settings.sitemap.newsDetailPage}

      imageSitemap.tables {
        pages = media
        tt_content = image,media,assets
      }
    }
  }
}

module.tx_mindshapeseo < plugin.tx_mindshapeseo

# sitemap.xml page type
# make a htaccess redirect "RewriteRule sitemap.xml$ /index.php?type=10000 [L,R=301]"
# if you use multiple sitemaps also add "RewriteRule sitemap_(.*).xml$ /index.php?type=10000&pageuid=$1 [L,R=301]"
# and robot.txt add "Sitemap: /index.php?type=10000"
sitemap = PAGE
sitemap {
  typeNum = {$sitemap.typeNum}
  config {
    disableAllHeaderCode = 1
    xhtml_cleaning = 0
    admPanel = 0
    debug = 0
    no_cache = 1
    index_enable = 0
    removeDefaultJS = 1
    removeDefaultCss = 1
    removePageCss = 1
    additionalHeaders = Content-Type:application/xml;charset=utf-8
    additionalHeaders.10 {
      header = Content-Type:application/xml;charset=utf-8
      replace = 1
    }
  }

  10 = USER_INT
  10.userFunc = Mindshape\MindshapeSeo\Controller\SitemapController->sitemapAction
}

sitemapIndex = PAGE
sitemapIndex {
  typeNum = {$sitemapIndex.typeNum}
  config {
    disableAllHeaderCode = 1
    xhtml_cleaning = 0
    admPanel = 0
    debug = 0
    no_cache = 1
    index_enable = 0
    removeDefaultJS = 1
    removeDefaultCss = 1
    removePageCss = 1
    additionalHeaders = Content-Type:application/xml;charset=utf-8
    additionalHeaders.10 {
      header = Content-Type:application/xml;charset=utf-8
      replace = 1
    }
  }

  10 = USER_INT
  10.userFunc = Mindshape\MindshapeSeo\Controller\SitemapController->sitemapIndexAction
}

imageSitemap = PAGE
imageSitemap {
  typeNum = {$imageSitemap.typeNum}
  config {
    disableAllHeaderCode = 1
    xhtml_cleaning = 0
    admPanel = 0
    debug = 0
    no_cache = 1
    index_enable = 0
    removeDefaultJS = 1
    removeDefaultCss = 1
    removePageCss = 1
    additionalHeaders = Content-Type:application/xml;charset=utf-8
    additionalHeaders.10 {
      header = Content-Type:application/xml;charset=utf-8
      replace = 1
    }
  }

  10 = USER_INT
  10.userFunc = Mindshape\MindshapeSeo\Controller\SitemapController->imageSitemapAction
}
